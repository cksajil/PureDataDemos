#N canvas 0 0 1362 685 10;
#N canvas 523 194 390 347 adaptive_filter~ 1;
#X obj 37 35 inlet~;
#X text 22 15 input signal;
#X obj 143 35 inlet~;
#X text 122 15 desired signal;
#X obj 36 291 outlet~;
#X msg 249 63 adaptation 1;
#X obj 249 42 loadbang;
#X obj 224 214 s~ adaptive_signal;
#X text 224 234 (for visualization);
#X obj 249 141 r clear;
#X msg 248 162 clear;
#X obj 116 265 unpack f f f;
#X obj 116 293 outlet;
#X obj 162 293 outlet;
#X obj 208 293 outlet;
#X obj 249 94 r mu;
#X msg 249 116 mu \$1;
#X obj 37 156 lms2~ 5 0.01;
#X connect 0 0 17 0;
#X connect 2 0 17 1;
#X connect 5 0 17 0;
#X connect 6 0 5 0;
#X connect 9 0 10 0;
#X connect 10 0 17 0;
#X connect 11 0 12 0;
#X connect 11 1 13 0;
#X connect 11 2 14 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 4 0;
#X connect 17 0 7 0;
#X connect 17 2 11 0;
#X restore 127 347 pd adaptive_filter~;
#X text 135 251 x[n];
#X text 117 366 y[n];
#X floatatom 169 388 5 0 0 1 c0 - -;
#X floatatom 233 388 5 0 0 1 c1 - -;
#X floatatom 295 388 5 0 0 1 c2 - -;
#N canvas 425 56 479 415 PROBLEM_DESCRIPTION 0;
#X text 33 89 In this example the adaptive filter tries to identify
an unknown system.;
#X text 34 124 The unknown system is a FIR filter of order 3 and the
adaptive system is an adaptive transversal filter using the LMS algorithm
(see lms~ help-patch) with 3 coefficients.;
#X text 75 224 d[n] = h0*x[n] + h1*x[n-1] + h2*x[n-2];
#X text 35 188 unknown system:;
#X text 74 209 FIR Filter \, order = 3;
#X text 35 259 adaptive system:;
#X text 77 278 LMS \, 3 coefficients (c0 \, c1 \, c2);
#X text 35 342 The System Identification problem is sucessfull \, if
c0=h0 \, c1=h1 and c2=h2. Then the unknown and the adaptive system
have the same behavior.;
#X text 60 40 SYSTEM IDENTIFICATION IN A NOISE FREE ENVIRONMENT;
#X text 77 292 step-size parameter mu;
#X restore 44 104 pd PROBLEM_DESCRIPTION;
#N canvas 298 58 425 643 OBSERVATIONS 0;
#X text 24 20 OBSERVATIONS;
#X obj 27 119 bng 20 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#N canvas 863 469 389 255 mu1 0;
#X obj 20 14 inlet;
#X obj 20 68 s signalr;
#X msg 20 47 0;
#X obj 20 111 s clear;
#X obj 20 179 s mur;
#X msg 20 158 0.5;
#X connect 0 0 2 0;
#X connect 0 0 3 0;
#X connect 0 0 5 0;
#X connect 2 0 1 0;
#X connect 5 0 4 0;
#X restore 27 143 pd mu1;
#X text 26 95 e.g. mu = 0.5:;
#X obj 29 201 bng 20 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X text 26 179 e.g. mu = 1e-05:;
#X text 25 59 1) influenc of mu:;
#X text 84 119 -> very fast adaptation \, but c0 \, c1 \, c2;
#X text 104 134 are not so precise;
#X text 83 201 -> slower adaptation \, but very precise;
#X text 27 430 2) influenc of white vs. non-white input signal:;
#X obj 30 490 bng 20 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#N canvas 863 469 389 255 mu2 0;
#X obj 20 14 inlet;
#X obj 20 68 s signalr;
#X msg 20 47 0;
#X obj 20 111 s clear;
#X obj 20 179 s mur;
#X msg 20 158 1e-005;
#X connect 0 0 2 0;
#X connect 0 0 3 0;
#X connect 0 0 5 0;
#X connect 2 0 1 0;
#X connect 5 0 4 0;
#X restore 29 225 pd mu2;
#N canvas 863 469 389 255 in1 0;
#X obj 20 14 inlet;
#X obj 20 68 s signalr;
#X msg 20 47 0;
#X obj 20 111 s clear;
#X obj 20 179 s mur;
#X msg 20 158 0.001;
#X connect 0 0 2 0;
#X connect 0 0 3 0;
#X connect 0 0 5 0;
#X connect 2 0 1 0;
#X connect 5 0 4 0;
#X restore 30 514 pd in1;
#X obj 32 570 bng 20 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#N canvas 863 469 389 255 in2 0;
#X obj 20 14 inlet;
#X obj 20 68 s signalr;
#X obj 20 111 s clear;
#X obj 20 179 s mur;
#X msg 20 47 1;
#X msg 20 158 0.001;
#X connect 0 0 4 0;
#X connect 0 0 2 0;
#X connect 0 0 5 0;
#X connect 4 0 1 0;
#X connect 5 0 3 0;
#X restore 32 594 pd in2;
#X text 28 469 white signal:;
#X text 30 550 non-white signal:;
#X text 87 569 -> c0 \, c1 \, c2 not precise;
#X text 90 489 -> c0 \, c1 \, c2 precise;
#X text 29 274 how to choose mu ?;
#X text 72 300 0 < mu < 2/(abs(x[n])^2);
#X text 72 321 -> abs(x[n])^2 is the tap-input energy;
#X text 94 336 at time n (lenght of x[n] is PDs;
#X text 46 373 Note: this only ensures "stability on average";
#X text 94 351 blocksize - so use block~ to change it!);
#X connect 1 0 2 0;
#X connect 4 0 12 0;
#X connect 11 0 13 0;
#X connect 14 0 15 0;
#X restore 44 130 pd OBSERVATIONS;
#X text 43 83 ReadMe:;
#X obj 127 172 vradio 20 1 1 2 empty signalr empty 0 -6 0 8 -262144
-1 -1 0;
#X text 154 173 white signal (noise);
#X text 155 193 non white signal (filtered noise);
#X text 43 42 SYSTEM IDENTIFICATION IN A NOISE FREE ENVIRONMENT;
#X obj 93 257 dac~;
#X obj 211 256 adc~;
#X connect 0 1 3 0;
#X connect 0 2 4 0;
#X connect 0 3 5 0;
#X connect 9 0 13 0;
#X connect 9 0 0 0;
#X connect 9 0 13 1;
#X connect 14 0 0 1;
#X connect 14 1 0 1;
